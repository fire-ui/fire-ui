document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("pre").forEach(pre=>{if(Boolean(pre.getElementsByTagName("code").length)&&(!pre.hasAttribute("data-copyable")||"false"!==pre.dataset.copyable)){var copyBtn=document.createElement("button");copyBtn.classList.add("code-copyBtn"),copyBtn.innerText="Copy",pre.insertBefore(copyBtn,pre.firstChild),copyBtn.addEventListener("click",()=>{const code=pre.querySelector("code").innerText,textarea=document.createElement("textarea");textarea.value=code,textarea.style.opacity="0",textarea.setAttribute("readonly",""),document.body.appendChild(textarea),textarea.select(),document.execCommand("copy"),document.body.removeChild(textarea),copyBtn.innerText="Copied",document.addEventListener("copy",()=>{copyBtn.innerText="Copy"})})}})});